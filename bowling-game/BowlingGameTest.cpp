/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
#include "BowlingGameTest.h"

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
TEST_F(BowlingGameTest, testGutterGame) {

    rollMany(20, 0);
    EXPECT_EQ(0, mBowlingGame.score());
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
TEST_F(BowlingGameTest, testAllOnes) {

    rollMany(20, 1);
    EXPECT_EQ(20, mBowlingGame.score());
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
TEST_F(BowlingGameTest, testOneSpare) {

    rollSpare();
    mBowlingGame.roll(3);
    rollMany(17, 0);
    EXPECT_EQ(16, mBowlingGame.score());
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
TEST_F(BowlingGameTest, testOneStrike) {

    mBowlingGame.roll(10);
    mBowlingGame.roll(3);
    mBowlingGame.roll(4);
    rollMany(16, 0);
    EXPECT_EQ(24, mBowlingGame.score());
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
void BowlingGameTest::rollMany(int numIter, int numPins)
{
    for (int i = 0; i < numIter; ++i) {
        mBowlingGame.roll(numPins);
    }
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
void BowlingGameTest::rollSpare()
{
    mBowlingGame.roll(5);
    mBowlingGame.roll(5);
}

/*---------------------------------------------------------------------------*\
|
\*---------------------------------------------------------------------------*/
int main(int argc, char** argv)
{
    testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}